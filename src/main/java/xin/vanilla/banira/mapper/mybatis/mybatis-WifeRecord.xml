<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="xin.vanilla.banira.mapper.IWifeRecordDao">

    <resultMap id="resultMap" type="xin.vanilla.banira.domain.WifeRecord">
        <id property="id" column="id"/>
        <result property="msgId" column="msg_id"/>
        <result property="groupId" column="group_id"/>
        <result property="senderId" column="sender_id"/>
        <result property="time" column="time"/>
        <result property="wifeId" column="wife_id"/>
        <result property="wifeName" column="wife_name"/>
        <result property="wifeNick" column="wife_nick"/>
    </resultMap>

    <sql id="allColumn">
        t.id, t.msg_id, t.group_id, t.sender_id, t.time, t.wife_id, t.wife_name, t.wife_nick
    </sql>

    <sql id="baseColumn">
        t.id, t.msg_id, t.group_id, t.sender_id, t.time, t.wife_id, t.wife_name, t.wife_nick
    </sql>

    <sql id="whereSql">
        <trim prefix="WHERE" prefixOverrides="AND | OR ">
            <include refid="whereSqlInner"/>
        </trim>
    </sql>

    <sql id="whereSqlInner">
        <if test="id_null != null">
            AND t.id IS NULL
        </if>
        <if test="id != null">
            AND t.id = #{id}
        </if>
        <if test="id_array != null">
            AND t.id IN
            <foreach collection="id_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="id_list != null">
            AND t.id IN
            <foreach collection="id_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="id_array_or != null">
            AND
            <foreach collection="id_array_or" item="item" open="(" separator="OR" close=")">
                (t.id = #{item})
            </foreach>
        </if>
        <if test="id_list_or != null">
            AND
            <foreach collection="id_list_or" item="item" open="(" separator="OR" close=")">
                (t.id = #{item})
            </foreach>
        </if>
        <if test="id_lt != null">
            <![CDATA[ AND t.id < #{id_lt} ]]>
        </if>
        <if test="id_lt_eq != null">
            <![CDATA[ AND t.id <= #{id_lt_eq} ]]>
        </if>
        <if test="id_gt != null">
            <![CDATA[ AND t.id > #{id_gt} ]]>
        </if>
        <if test="id_gt_eq != null">
            <![CDATA[ AND t.id >= #{id_gt_eq} ]]>
        </if>

        <if test="msgId_null != null">
            AND t.msg_id IS NULL
        </if>
        <if test="msgId != null">
            AND t.msg_id LIKE #{msgId}
        </if>
        <if test="msgId_array != null">
            AND t.msg_id IN
            <foreach collection="msgId_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="msgId_list != null">
            AND t.msg_id IN
            <foreach collection="msgId_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="msgId_array_or != null">
            AND
            <foreach collection="msgId_array_or" item="item" open="(" separator="OR" close=")">
                (t.msg_id LIKE #{item})
            </foreach>
        </if>
        <if test="msgId_list_or != null">
            AND
            <foreach collection="msgId_list_or" item="item" open="(" separator="OR" close=")">
                (t.msg_id LIKE #{item})
            </foreach>
        </if>

        <if test="groupId_null != null">
            AND t.group_id IS NULL
        </if>
        <if test="groupId != null">
            AND t.group_id = #{groupId}
        </if>
        <if test="groupId_array != null">
            AND t.group_id IN
            <foreach collection="groupId_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="groupId_list != null">
            AND t.group_id IN
            <foreach collection="groupId_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="groupId_array_or != null">
            AND
            <foreach collection="groupId_array_or" item="item" open="(" separator="OR" close=")">
                (t.group_id = #{item})
            </foreach>
        </if>
        <if test="groupId_list_or != null">
            AND
            <foreach collection="groupId_list_or" item="item" open="(" separator="OR" close=")">
                (t.group_id = #{item})
            </foreach>
        </if>
        <if test="groupId_lt != null">
            <![CDATA[ AND t.group_id < #{groupId_lt} ]]>
        </if>
        <if test="groupId_lt_eq != null">
            <![CDATA[ AND t.group_id <= #{groupId_lt_eq} ]]>
        </if>
        <if test="groupId_gt != null">
            <![CDATA[ AND t.group_id > #{groupId_gt} ]]>
        </if>
        <if test="groupId_gt_eq != null">
            <![CDATA[ AND t.group_id >= #{groupId_gt_eq} ]]>
        </if>

        <if test="senderId_null != null">
            AND t.sender_id IS NULL
        </if>
        <if test="senderId != null">
            AND t.sender_id = #{senderId}
        </if>
        <if test="senderId_array != null">
            AND t.sender_id IN
            <foreach collection="senderId_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="senderId_list != null">
            AND t.sender_id IN
            <foreach collection="senderId_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="senderId_array_or != null">
            AND
            <foreach collection="senderId_array_or" item="item" open="(" separator="OR" close=")">
                (t.sender_id = #{item})
            </foreach>
        </if>
        <if test="senderId_list_or != null">
            AND
            <foreach collection="senderId_list_or" item="item" open="(" separator="OR" close=")">
                (t.sender_id = #{item})
            </foreach>
        </if>
        <if test="senderId_lt != null">
            <![CDATA[ AND t.sender_id < #{senderId_lt} ]]>
        </if>
        <if test="senderId_lt_eq != null">
            <![CDATA[ AND t.sender_id <= #{senderId_lt_eq} ]]>
        </if>
        <if test="senderId_gt != null">
            <![CDATA[ AND t.sender_id > #{senderId_gt} ]]>
        </if>
        <if test="senderId_gt_eq != null">
            <![CDATA[ AND t.sender_id >= #{senderId_gt_eq} ]]>
        </if>

        <if test="time_null != null">
            AND t.time IS NULL
        </if>
        <if test="time != null">
            AND t.time = #{time}
        </if>
        <if test="time_array != null">
            AND t.time IN
            <foreach collection="time_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="time_list != null">
            AND t.time IN
            <foreach collection="time_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="time_array_or != null">
            AND
            <foreach collection="time_array_or" item="item" open="(" separator="OR" close=")">
                (t.time = #{item})
            </foreach>
        </if>
        <if test="time_list_or != null">
            AND
            <foreach collection="time_list_or" item="item" open="(" separator="OR" close=")">
                (t.time = #{item})
            </foreach>
        </if>
        <if test="time_lt != null">
            <![CDATA[ AND t.time < #{time_lt} ]]>
        </if>
        <if test="time_lt_eq != null">
            <![CDATA[ AND t.time <= #{time_lt_eq} ]]>
        </if>
        <if test="time_gt != null">
            <![CDATA[ AND t.time > #{time_gt} ]]>
        </if>
        <if test="time_gt_eq != null">
            <![CDATA[ AND t.time >= #{time_gt_eq} ]]>
        </if>

        <if test="wifeId_null != null">
            AND t.wife_id IS NULL
        </if>
        <if test="wifeId != null">
            AND t.wife_id = #{wifeId}
        </if>
        <if test="wifeId_array != null">
            AND t.wife_id IN
            <foreach collection="wifeId_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeId_list != null">
            AND t.wife_id IN
            <foreach collection="wifeId_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeId_array_or != null">
            AND
            <foreach collection="wifeId_array_or" item="item" open="(" separator="OR" close=")">
                (t.wife_id = #{item})
            </foreach>
        </if>
        <if test="wifeId_list_or != null">
            AND
            <foreach collection="wifeId_list_or" item="item" open="(" separator="OR" close=")">
                (t.wife_id = #{item})
            </foreach>
        </if>
        <if test="wifeId_lt != null">
            <![CDATA[ AND t.wife_id < #{wifeId_lt} ]]>
        </if>
        <if test="wifeId_lt_eq != null">
            <![CDATA[ AND t.wife_id <= #{wifeId_lt_eq} ]]>
        </if>
        <if test="wifeId_gt != null">
            <![CDATA[ AND t.wife_id > #{wifeId_gt} ]]>
        </if>
        <if test="wifeId_gt_eq != null">
            <![CDATA[ AND t.wife_id >= #{wifeId_gt_eq} ]]>
        </if>

        <if test="wifeName_null != null">
            AND t.wife_name IS NULL
        </if>
        <if test="wifeName != null">
            AND t.wife_name LIKE #{wifeName}
        </if>
        <if test="wifeName_array != null">
            AND t.wife_name IN
            <foreach collection="wifeName_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeName_list != null">
            AND t.wife_name IN
            <foreach collection="wifeName_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeName_array_or != null">
            AND
            <foreach collection="wifeName_array_or" item="item" open="(" separator="OR" close=")">
                (t.wife_name LIKE #{item})
            </foreach>
        </if>
        <if test="wifeName_list_or != null">
            AND
            <foreach collection="wifeName_list_or" item="item" open="(" separator="OR" close=")">
                (t.wife_name LIKE #{item})
            </foreach>
        </if>

        <if test="wifeNick_null != null">
            AND t.wife_nick IS NULL
        </if>
        <if test="wifeNick != null">
            AND t.wife_nick LIKE #{wifeNick}
        </if>
        <if test="wifeNick_array != null">
            AND t.wife_nick IN
            <foreach collection="wifeNick_array" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeNick_list != null">
            AND t.wife_nick IN
            <foreach collection="wifeNick_list" item="item" open="(" separator="," close=")">#{item}</foreach>
        </if>
        <if test="wifeNick_array_or != null">
            AND
            <foreach collection="wifeNick_array_or" item="item" open="(" separator="OR" close=")">
                (t.wife_nick LIKE #{item})
            </foreach>
        </if>
        <if test="wifeNick_list_or != null">
            AND
            <foreach collection="wifeNick_list_or" item="item" open="(" separator="OR" close=")">
                (t.wife_nick LIKE #{item})
            </foreach>
        </if>

        <if test="_KEY_WORD_ != null">
            AND (
            t.wife_name LIKE #{_KEY_WORD_}
            OR t.wife_nick LIKE #{_KEY_WORD_}
            )
        </if>

    </sql>

    <sql id="orderSql">
        <trim prefix="ORDER BY" suffixOverrides=",">
            <if test="_ORDER_ != null">
                <foreach collection="_ORDER_" item="item" open="" separator="," close="">
                    <include refid="orderSqlInner"/>
                </foreach>
            </if>
        </trim>
    </sql>

    <sql id="orderSqlInner">
        <if test="item == 'id_asc'">t.id ASC</if>
        <if test="item == 'id_desc'">t.id DESC</if>
        <if test="item == 'msgId_asc'">t.msg_id ASC</if>
        <if test="item == 'msgId_desc'">t.msg_id DESC</if>
        <if test="item == 'groupId_asc'">t.group_id ASC</if>
        <if test="item == 'groupId_desc'">t.group_id DESC</if>
        <if test="item == 'senderId_asc'">t.sender_id ASC</if>
        <if test="item == 'senderId_desc'">t.sender_id DESC</if>
        <if test="item == 'time_asc'">t.time ASC</if>
        <if test="item == 'time_desc'">t.time DESC</if>
        <if test="item == 'wifeId_asc'">t.wife_id ASC</if>
        <if test="item == 'wifeId_desc'">t.wife_id DESC</if>
        <if test="item == 'wifeName_asc'">t.wife_name ASC</if>
        <if test="item == 'wifeName_desc'">t.wife_name DESC</if>
        <if test="item == 'wifeNick_asc'">t.wife_nick ASC</if>
        <if test="item == 'wifeNick_desc'">t.wife_nick DESC</if>
    </sql>

    <delete id="deleteByParam" parameterType="java.util.Map">
        DELETE FROM wife_record t
        <include refid="whereSql"/>
    </delete>

    <select id="selectCountByParam" parameterType="java.util.Map" resultType="int">
        SELECT COUNT(*) FROM wife_record t
        <include refid="whereSql"/>
    </select>

    <select id="selectByParam" parameterType="java.util.Map" resultMap="resultMap">
        SELECT
        <if test="_ALL_FIELDS_">
            <include refid="allColumn"/>
        </if>
        <if test="!_ALL_FIELDS_">
            <include refid="baseColumn"/>
        </if>
        FROM wife_record t
        <include refid="whereSql"/>
        <include refid="orderSql"/>
    </select>


</mapper>
